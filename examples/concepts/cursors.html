---
layout: blank
title: Cursors
---

<script>
  // NOTE: We pull these in from packaged sources in our header,
  // but here are the associated NPM packages that can be used instead

  // Packages
  // import Hammer from 'hammerjs';
  // import dicomParser from 'dicom-parser';
  // import * as cornerstone from 'cornerstone-core';
  // import * as cornerstoneMath from 'cornerstone-math';
  // import * as cornerstoneWADOImageLoader from 'cornerstone-wado-image-loader';
  // import * as cornerstoneTools from '@cornerstonejs/tools';

  const baseUrl =
    window.ENVIRONMENT === 'development'
      ? 'http://localhost:4000/'
      : 'https://tools.cornerstonejs.org/examples/';

  _initCornerstone();
  _initInterface();

  const element = document.querySelector('.cornerstone-element');

  // Init CornerstoneTools
  cornerstoneTools.init({
    showSVGCursors: true,
  });
  cornerstone.enable(element);
  const imageIds = [
    `wadouri:${baseUrl}assets/dicom/exotic/1.dcm`,
    `wadouri:${baseUrl}assets/dicom/exotic/2.dcm`,
  ];

  element.tabIndex = 0;
  element.focus();

  cornerstone.loadImage(imageIds[0]).then(function(image) {
    cornerstone.displayImage(element, image);
  });

  // Add the tool
  const RectangleRoiTool = cornerstoneTools.RectangleRoiTool;
  cornerstoneTools.addTool(RectangleRoiTool);
  cornerstoneTools.setToolActive('RectangleRoi', { mouseButtonMask: 1 });

  // Grab all SVGs
  const cursors = cornerstoneTools.import('tools/cursors');
  console.log(cursors);

  /***************************************************************************
   * UI & Boilerplate setup code
   **************************************************************************/

  /***
   *
   *
   */
  function _initCornerstone() {
    // Externals
    cornerstoneWADOImageLoader.external.cornerstone = cornerstone;
    cornerstoneWADOImageLoader.external.dicomParser = dicomParser;
    cornerstoneTools.external.cornerstoneMath = cornerstoneMath;
    cornerstoneTools.external.cornerstone = cornerstone;
    cornerstoneTools.external.Hammer = Hammer;

    // Image Loader
    const config = {
      webWorkerPath: `${baseUrl}assets/image-loader/cornerstoneWADOImageLoaderWebWorker.js`,
      taskConfiguration: {
        decodeTask: {
          codecsPath: `${baseUrl}assets/image-loader/cornerstoneWADOImageLoaderCodecs.js`,
        },
      },
    };
    cornerstoneWADOImageLoader.webWorkerManager.initialize(config);
  }

  /***
   *
   *
   */
  function _initInterface() {}
</script>
